"use strict";(self.webpackChunkgrid_docs=self.webpackChunkgrid_docs||[]).push([[5816],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(n),m=i,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||a;return n?r.createElement(h,o(o({ref:t},p),{},{components:n})):r.createElement(h,o({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var c=2;c<a;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3099:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return d}});var r=n(7462),i=n(3366),a=(n(7294),n(3905)),o=["components"],s={sidebar_position:1,sidebar_label:"Getting started"},l="Getting Started with the Grid SDK",c={unversionedId:"sdk/getting_started",id:"sdk/getting_started",title:"Getting Started with the Grid SDK",description:"The Grid SDK is a set of tools you can use to orchestrate and inspect resources hosted on Grid AI.",source:"@site/docs/sdk/getting_started.md",sourceDirName:"sdk",slug:"/sdk/getting_started",permalink:"/sdk/getting_started",editUrl:"https://github.com/gridai/grid-docs/tree/main/docs/sdk/getting_started.md",tags:[],version:"current",lastUpdatedAt:1644604108,formattedLastUpdatedAt:"2/11/2022",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Getting started"}},p=[{value:"Importing API Methods",id:"importing-api-methods",children:[],level:3},{value:"Common Use Cases",id:"common-use-cases",children:[{value:"Login",id:"login",children:[],level:3},{value:"Setting up a <code>Run</code>",id:"setting-up-a-run",children:[],level:3},{value:"Hourly Cost Estimation",id:"hourly-cost-estimation",children:[],level:3},{value:"Status Inspection",id:"status-inspection",children:[],level:3},{value:"Accessing Experiments",id:"accessing-experiments",children:[],level:3}],level:2},{value:"Other Utilities",id:"other-utilities",children:[{value:"List Runs",id:"list-runs",children:[],level:3},{value:"Retrieving a Run",id:"retrieving-a-run",children:[],level:3}],level:2}],u={toc:p};function d(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"getting-started-with-the-grid-sdk"},"Getting Started with the Grid SDK"),(0,a.kt)("p",null,"The Grid SDK is a set of tools you can use to orchestrate and inspect resources hosted on Grid AI."),(0,a.kt)("h3",{id:"importing-api-methods"},"Importing API Methods"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Every interpreter session needs to call the ",(0,a.kt)("inlineCode",{parentName:"p"},"login()")," method before any utilities can successfully proceed.")),(0,a.kt)("p",null,"API methods can be imported like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"from grid import foo\n")),(0,a.kt)("h2",{id:"common-use-cases"},"Common Use Cases"),(0,a.kt)("p",null,"The following are examples of some common use cases of the SDK."),(0,a.kt)("h3",{id:"login"},"Login"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Logging in first is required for any utilities to execute successfully.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},">>> from grid import login\n>>> login()\n")),(0,a.kt)("h3",{id:"setting-up-a-run"},"Setting up a ",(0,a.kt)("inlineCode",{parentName:"h3"},"Run")),(0,a.kt)("p",null,"A ",(0,a.kt)("inlineCode",{parentName:"p"},"Run")," is first defined and then started to trigger it's execution."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},">>> from pathlib import Path\n>>> from grid import login, Run\n>>>\n>>> login()\n>>> r = Run(\n...     entrypoint='./Demo_Project/run.py',\n...     script_args='--max_epochs \"[10, 20]\" --learning_rate \"uniform(1e-3, 1e-5, 1)\"',\n...     instance_type='t2.xlarge',\n...     cpus=3,\n... )\n>>> r\nRun(\n    name=,\n    description=\"None\",\n    script_command=,\n    num_experiments=0,\n    status={},\n    user=rlizzo,\n    created_at=None,\n    cluster=,\n)\n")),(0,a.kt)("h3",{id:"hourly-cost-estimation"},"Hourly Cost Estimation"),(0,a.kt)("p",null,"Estimate the hourly cost of the ",(0,a.kt)("inlineCode",{parentName:"p"},"Run")," before starting it."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},">>> r.estimated_hourly_cost\n0.38\nStart the Computations\n>>> r.start()\n>>> r\nRun(\n    name=peculiar-shockley-4136,\n    description=\"None\",\n    script_command=./Demo_Project/run.py --script_args '\"'\"'--max_epochs \"[10, 20]\" --learning_rate \"uniform(1e-3, 1e-5, 1)\"'\"'\"' --instance_type t2.xlarge --cpus 3 ./Demo_Project/run.py --max_epochs '\"'\"'[10, 20]'\"'\"' --learning_rate '\"'\"'uniform(1e-3, 1e-5, 1)'\"'\"'',\n    num_experiments=2,\n    status={'QUEUED': 2},\n    user=rlizzo,\n    created_at=2021-08-10 16:59:58.044624+00:00,\n    cluster=grid-cloud-prod,\n)\n")),(0,a.kt)("h3",{id:"status-inspection"},"Status Inspection"),(0,a.kt)("p",null,"Inspect the status of the ",(0,a.kt)("inlineCode",{parentName:"p"},"Run")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"Experiment"),"s which were generated."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},">>> r.status()\ndefaultdict(list,\n            {'QUEUED': ['peculiar-shockley-4136-exp0',\n                        'peculiar-shockley-4136-exp1']})\n>>> r.created_at\ndatetime.datetime(2021, 8, 10, 16, 59, 58, 44624, tzinfo=datetime.timezone.utc)\n>>>\n>>> r.name\n'peculiar-shockley-4136'\nThe Run.experiments attribute is a mapping view of all experiments which are part of Run which has been submitted for computation (or which has finished in some terminal state).\n>>> r.experiments\n{\n    'peculiar-shockley-4136-exp0': Experiment(,\n        name=peculiar-shockley-4136-exp0,\n        status=QUEUED,\n        project=gridai/Demo_Project @ 570cd62aa05579e599609f3178344d5d208799dd,\n        parameters={'Script': 'run.py', 'max_epochs': '10', 'learning_rate': '0.0007056001691752508'},\n        invocation_command=python run.py --max_epochs 10 --learning_rate 0.0007056001691752508,\n        user=rlizzo,\n        created_at=2021-08-10 16:59:58.058882,\n        started_running_at=1970-01-01 00:00:00,\n        finished_at=1970-01-01 00:00:00,\n    ),\n    'peculiar-shockley-4136-exp1': Experiment(,\n        name=peculiar-shockley-4136-exp1,\n        status=QUEUED,\n        project=gridai/Demo_Project @ 570cd62aa05579e599609f3178344d5d208799dd,\n        parameters={'Script': 'run.py', 'max_epochs': '20', 'learning_rate': '0.0007056001691752508'},\n        invocation_command=python run.py --max_epochs 20 --learning_rate 0.0007056001691752508,\n        user=rlizzo,\n        created_at=2021-08-10 16:59:58.063336,\n        started_running_at=1970-01-01 00:00:00,\n        finished_at=1970-01-01 00:00:00,\n    )\n}\n")),(0,a.kt)("h3",{id:"accessing-experiments"},"Accessing Experiments"),(0,a.kt)("p",null,"Access the ",(0,a.kt)("inlineCode",{parentName:"p"},"Experiment"),"'s of the ",(0,a.kt)("inlineCode",{parentName:"p"},"Run"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},">>> r.experiments['peculiar-shockley-4136-exp0']\nExperiment(,\n    name=peculiar-shockley-4136-exp0,\n    status=PENDING,\n    project=gridai/Demo_Project @ 570cd62aa05579e599609f3178344d5d208799dd,\n    parameters={'Script': 'run.py', 'max_epochs': '10', 'learning_rate': '0.0007056001691752508'},\n    invocation_command=python run.py --max_epochs 10 --learning_rate 0.0007056001691752508,\n    user=rlizzo,\n    created_at=2021-08-10 16:59:58.058882,\n    started_running_at=1970-01-01 00:00:00,\n    finished_at=1970-01-01 00:00:00,\n)\n>>> r.experiments['peculiar-shockley-4136-exp0'].cancel()\n'peculiar-shockley-4136-exp0'\n>>>\n>>> r.status()\ndefaultdict(list,\n            {'CANCELLED': ['peculiar-shockley-4136-exp0'],\n             'PENDING': ['peculiar-shockley-4136-exp1']})\n")),(0,a.kt)("h2",{id:"other-utilities"},"Other Utilities"),(0,a.kt)("p",null,"There are other top level functions available. Play around with what's imported by grid!"),(0,a.kt)("h3",{id:"list-runs"},"List Runs"),(0,a.kt)("p",null,"List all the ",(0,a.kt)("inlineCode",{parentName:"p"},"Run"),"s belonging to the logged in user."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},">>> from grid import list_runs\n>>>\n>>> list_runs()\n['peculiar-shockley-4136',\n    'nice-nightingale-152-cl8102124654',\n    'nice-nightingale-152',\n    'clever-bouman-4749',\n    'striped-hamilton-1458',\n    'classy-mandrill-288',\n    'tactful-burnell-7171',\n    'brainy-gopher-730-cl7921101940']\n")),(0,a.kt)("h3",{id:"retrieving-a-run"},"Retrieving a Run"),(0,a.kt)("p",null,"Access a ",(0,a.kt)("inlineCode",{parentName:"p"},"Run"),' which has already been started by just passing the "name" to the ',(0,a.kt)("inlineCode",{parentName:"p"},"Run")," constructor."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},">>> rr = Run('striped-hamilton-1458')\n>>> rr\nRun(\n    name=striped-hamilton-1458,\n    description=\"None\",\n    script_command=Demo_Project/run.py --script_args '\"'\"'--max_epochs \"[10, 20]\" --learning_rate \"uniform(1e-3, 1e-5, 1)\"'\"'\"' --instance_type t2.xlarge --cpus 3 Demo_Project/run.py --max_epochs '\"'\"'[10, 20]'\"'\"' --learning_rate '\"'\"'uniform(1e-3, 1e-5, 1)'\"'\"'',\n    num_experiments=2,\n    status={'SUCCEEDED': 2},\n    user=rlizzo,\n    created_at=2021-08-10 04:20:27.619203+00:00,\n    cluster=,\n)\n")))}d.isMDXComponent=!0}}]);